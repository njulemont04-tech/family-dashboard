{% extends 'auth_base.html' %} {% block title %} {{ _('Manage Your Space') }} {%
endblock %} {% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">
    <!-- Main Page Title -->
    <div class="text-center mb-5">
      <h1 class="display-5">{{ _('Manage Your Space') }}</h1>
      <p class="lead text-muted">
        {{ _('This is where you can create or switch between your private
        spaces.') }}
      </p>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for category, message in messages %}
    <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %} {% endif %} {% endwith %}

    <!-- Card for selecting an existing space -->
    <div class="card shadow-sm mb-4">
      <div class="card-header">
        <h5 class="mb-0">{{ _('Your Private Spaces') }}</h5>
      </div>
      <div class="list-group list-group-flush">
        {% for family in current_user.families %}
        <a
          href="{{ url_for('select_family', family_id=family.id) }}"
          class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
        >
          {{ family.name }}
          <span class="badge bg-primary rounded-pill">></span>
        </a>
        {% else %}
        <div class="list-group-item">
          {{ _('You are not a member of any spaces yet. Create one below!') }}
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Card for creating a new space -->
    <div class="card shadow-sm">
      <div class="card-header">
        <h5 class="mb-0">{{ _('Create a New Space') }}</h5>
      </div>
      <div class="card-body">
        <form action="{{ url_for('create_family') }}" method="POST">
          <div class="mb-3">
            <label for="familyName" class="form-label"
              >{{ _('Space Name') }}</label
            >
            <input
              type="text"
              name="family_name"
              class="form-control"
              id="familyName"
              placeholder="{{ _('e.g., The Smith Household, Mom\'s House') }}"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">
            {{ _('Create and Select') }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
