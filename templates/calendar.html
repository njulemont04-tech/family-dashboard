{% extends "base.html" %} {% block title %}Calendar - {{ super() }}{% endblock
%} {% block content %}
<div class="list-container">
  <h2>Add a New Event</h2>
  <form
    action="{{ url_for('add_event') }}"
    method="POST"
    class="add-event-form"
  >
    <input type="text" name="title" placeholder="Event Title" required />
    <input type="date" name="date" required />
    <input type="time" name="time" required />
    <button type="submit">Add Event</button>
  </form>
</div>

<div class="list-container">
  <h2>Upcoming Events</h2>
  <div class="event-list">
    {% for event in events %}
    <div class="event-item">
      <div class="event-date">
        <!-- Format the date object directly in the template -->
        {{ event.date.strftime('%a, %b %d') }}
      </div>
      <div class="event-details">
        <!-- Format the time object directly in the template -->
        <span class="event-time">{{ event.time.strftime('%I:%M %p') }}</span>
        <span class="event-title">{{ event.title }}</span>
      </div>
      <form
        action="{{ url_for('delete_event') }}"
        method="POST"
        class="delete-event-form"
      >
        <!-- We now pass the event's unique ID -->
        <input type="hidden" name="event_id" value="{{ event.id }}" />
        <button type="submit" class="delete-event-btn">âœ–</button>
      </form>
    </div>
    {% else %}
    <p>You have no upcoming events.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
